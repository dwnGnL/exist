"use strict";
for (var productFill = document.querySelectorAll(".product-color__button[data-color]"), productBorder = document.querySelectorAll(".product-color__button[data-border-color]"), i = 0; i < productFill.length; i++) productFill[i].addEventListener("click", function () {
    for (var e = 0; e < productFill.length; e++) productFill[e].classList.remove("product-color__button--active");
    for (var t = document.querySelectorAll(".popular-products__button"), o = 0; o < t.length; o++) t[o].classList.remove("popular-products__button--active");
    this.classList.add("product-color__button--active");
    var r = this.getAttribute("data-color"),
        c = document.querySelector(".product-color__button--active[data-border-color]").getAttribute("data-border-color");
    document.querySelector("#product-photo").setAttribute("src", "/assets/template/img/".concat(r, "-").concat(c, ".png")), document.querySelector("#product-photo-original").setAttribute("href", "/assets/template/img/".concat(r, "-").concat(c, ".png")), document.querySelector("#product-photo-mobile").setAttribute("src", "/assets/template/img/".concat(r, "-").concat(c, ".png")), document.querySelector("#product-photo-original-mobile").setAttribute("href", "/assets/template/img/".concat(r, "-").concat(c, ".png"))
});
for (var _i = 0; _i < productBorder.length; _i++) productBorder[_i].addEventListener("click", function () {
    for (var e = 0; e < productBorder.length; e++) productBorder[e].classList.remove("product-color__button--active");
    for (var t = document.querySelectorAll(".popular-products__button"), o = 0; o < t.length; o++) t[o].classList.remove("popular-products__button--active");
    this.classList.add("product-color__button--active");
    var r = this.getAttribute("data-border-color"),
        c = document.querySelector(".product-color__button--active[data-color]").getAttribute("data-color");
    document.querySelector("#product-photo").setAttribute("src", "/assets/template/img/".concat(c, "-").concat(r, ".png")), document.querySelector("#product-photo-original").setAttribute("href", "/assets/template/img/".concat(c, "-").concat(r, ".png")), document.querySelector("#product-photo-mobile").setAttribute("src", "/assets/template/img/".concat(c, "-").concat(r, ".png")), document.querySelector("#product-photo-original-mobile").setAttribute("href", "/assets/template/img/".concat(c, "-").concat(r, ".png"))
});
for (var popularProducts = document.querySelectorAll(".popular-products__button"), _i2 = 0; _i2 < popularProducts.length; _i2++) popularProducts[_i2].addEventListener("click", function () {
    for (var e = 0; e < popularProducts.length; e++) popularProducts[e].classList.remove("popular-products__button--active");
    this.classList.add("popular-products__button--active");
    var t = this.getAttribute("data-photo");
    document.querySelector("#product-photo").setAttribute("src", "/assets/template/img/".concat(t, ".png")), document.querySelector("#product-photo-original").setAttribute("href", "/assets/template/img/".concat(t, ".png")), document.querySelector("#product-photo-mobile").setAttribute("src", "/assets/template/img/".concat(t, ".png")), document.querySelector("#product-photo-mobile-original").setAttribute("href", "/assets/template/img/".concat(t, ".png"));
    for (var o = t.split("-"), r = document.querySelectorAll(".product-color__button[data-color]"), c = document.querySelectorAll(".product-color__button[data-border-color]"), l = 0; l < r.length; l++) r[l].classList.remove("product-color__button--active"), r[l].getAttribute("data-color") === o[0] && r[l].classList.add("product-color__button--active");
    for (var a = 0; a < c.length; a++) c[a].classList.remove("product-color__button--active"), c[a].getAttribute("data-border-color") === o[1] && c[a].classList.add("product-color__button--active")
});
for (var radioColor = document.querySelectorAll("input[name=color]"), _i3 = 0; _i3 < radioColor.length; _i3++) radioColor[_i3].addEventListener("change", function () {
    setColor(this.value), document.querySelector("#select-color").classList.remove("show")
});

function setColor(e) {
    var t = document.querySelector(".form-order__input--color");
    switch (t.classList.remove("form-order__input--color--black"), t.classList.remove("form-order__input--color--gray"), t.classList.remove("form-order__input--color--brown"), t.classList.remove("form-order__input--color--beige"), t.classList.remove("form-order__input--color--purple"), t.classList.remove("form-order__input--color--blue"), t.classList.remove("form-order__input--color--red"), t.classList.remove("form-order__input--color--green"), e) {
        case "black":
            t.classList.add("form-order__input--color--black");
            break;
        case "gray":
            t.classList.add("form-order__input--color--gray");
            break;
        case "brown":
            t.classList.add("form-order__input--color--brown");
            break;
        case "beige":
            t.classList.add("form-order__input--color--beige");
            break;
        case "purple":
            t.classList.add("form-order__input--color--purple");
            break;
        case "blue":
            t.classList.add("form-order__input--color--blue");
            break;
        case "red":
            t.classList.add("form-order__input--color--red");
            break;
        case "green":
            t.classList.add("form-order__input--color--green")
    }
}
for (var radioBorderColor = document.querySelectorAll("input[name=border-color]"), _i4 = 0; _i4 < radioBorderColor.length; _i4++) radioBorderColor[_i4].addEventListener("change", function () {
    setBorderColor(this.value), document.querySelector("#select-border-color").classList.remove("show")
});
for (var radioCollection = document.querySelectorAll("input[name=collection]"), _i5 = 0; _i5 < radioCollection.length; _i5++) radioCollection[_i5].addEventListener("change", function () {
    setBorderColor(this.value), document.querySelector("#select-collection").classList.remove("show")
});

function setBorderColor(e) {
    var t = document.querySelector(".form-order__input--border-color");
    switch (t.classList.remove("form-order__input--border-color--white"), t.classList.remove("form-order__input--border-color--black"), t.classList.remove("form-order__input--border-color--gray"), t.classList.remove("form-order__input--border-color--brown"), t.classList.remove("form-order__input--border-color--beige"), t.classList.remove("form-order__input--border-color--pink"), t.classList.remove("form-order__input--border-color--blue"), t.classList.remove("form-order__input--border-color--red"), t.classList.remove("form-order__input--border-color--yellow"), e) {
        case "white":
            t.classList.add("form-order__input--border-color--white");
            break;
        case "black":
            t.classList.add("form-order__input--border-color--black");
            break;
        case "gray":
            t.classList.add("form-order__input--border-color--gray");
            break;
        case "brown":
            t.classList.add("form-order__input--border-color--brown");
            break;
        case "beige":
            t.classList.add("form-order__input--border-color--beige");
            break;
        case "pink":
            t.classList.add("form-order__input--border-color--pink");
            break;
        case "blue":
            t.classList.add("form-order__input--border-color--blue");
            break;
        case "red":
            t.classList.add("form-order__input--border-color--red");
            break;
        case "yellow":
            t.classList.add("form-order__input--border-color--yellow")
    }
}
for (var checkboxAdditionally = document.querySelectorAll("[data-additionally]"), _i6 = 0; _i6 < checkboxAdditionally.length; _i6++) checkboxAdditionally[_i6].addEventListener("change", function () {
    setCost()
});
for (var radioAdditionally = document.querySelectorAll("input[name=collection]"), fieldAdditionally3 = document.querySelector("#field-additionally-3"), _i7 = 0; _i7 < radioAdditionally.length; _i7++) radioAdditionally[_i7].addEventListener("change", function () {
    document.querySelector("#select-collection .form-order__placeholder").style.fontSize = "12px";
    var e = this.value;
    document.querySelector("#select-collection .form-order__placeholder").textContent = e, "field-collection-2" == this.getAttribute("id") ? fieldAdditionally3.removeAttribute("disabled") : (fieldAdditionally3.setAttribute("disabled", "true"), fieldAdditionally3.checked = !1), setCost()
});
var selectYears = document.querySelector("#select-year"),
    selectCarBrand = document.querySelector("#select-car-brand"),
    selectCarModel = document.querySelector("#select-car-model");

function getCarModels(e) {
    $.ajax({
        type: "POST",
        url: "/assets/cars/getCarModels.php",
        data: {
            carBrand: e
        },
        success: function (e) {
            var t = document.querySelectorAll("#select-car-model option");
            console.log(t.length);
            for (var o = 1; o < t.length; o++) t[o].remove();
            e = JSON.parse(e);
            for (var r = 0; r < e.length; r++) document.querySelector("#select-car-model").append(new Option(e[r], e[r]))
        }
    })
}

function additionallySum() {
    for (var e = document.querySelectorAll("[data-additionally]"), t = 0, o = 0; o < e.length; o++) e[o].checked && (t += Number(e[o].getAttribute("data-price")));
    return t
}
selectYears.addEventListener("focus", function () {
    document.querySelector(".form-order__years-wrap").classList.add("open")
}), selectYears.addEventListener("blur", function () {
    document.querySelector(".form-order__years-wrap").classList.remove("open")
}), selectYears.addEventListener("change", function () {
    document.querySelector(".form-order__years-wrap").classList.remove("open"), document.querySelector("#select-year").blur()
}), selectCarBrand.addEventListener("focus", function () {
    document.querySelector(".form-order__car-brand-wrap").classList.add("open")
}), selectCarBrand.addEventListener("blur", function () {
    document.querySelector(".form-order__car-brand-wrap").classList.remove("open")
}), selectCarBrand.addEventListener("change", function () {
    document.querySelector(".form-order__car-brand-wrap").classList.remove("open"), document.querySelector("#select-car-brand").blur(), document.querySelector("#select-car-model").removeAttribute("disabled"), getCarModels(this.options[this.selectedIndex].value)
}), document.querySelector("#field-additionally-5").addEventListener("change", function () {
    this.checked ? document.querySelector("input[name=additionally-5-count]").removeAttribute("disabled") : document.querySelector("input[name=additionally-5-count]").setAttribute("disabled", !0)
}), document.querySelector("#field-additionally-6").addEventListener("change", function () {
    this.checked ? document.querySelector("input[name=additionally-6-count]").removeAttribute("disabled") : document.querySelector("input[name=additionally-6-count]").setAttribute("disabled", !0)
});
for (var buttonPlus = document.querySelectorAll(".form-order__btn-num--plus"), buttonMinus = document.querySelectorAll(".form-order__btn-num--minus"), _i11 = 0; _i11 < buttonPlus.length; _i11++) buttonPlus[_i11].addEventListener("click", function () {
    var e = this.parentNode.querySelector("input[type=number]").value;
    this.parentNode.querySelector("input[type=number]").value = 0 < e ? ++e : 1, additionally5Sum(), additionally6Sum(), setCost()
});
for (var _i12 = 0; _i12 < buttonMinus.length; _i12++) buttonMinus[_i12].addEventListener("click", function () {
    var e = this.parentNode.querySelector("input[type=number]").value;
    this.parentNode.querySelector("input[type=number]").value = 1 < e ? --e : 1, additionally5Sum(), additionally6Sum(), setCost()
});

function setCost() {
    document.querySelector("#total-cost").innerHTML =  Number(additionallySum())
}

function collectionCost() {
    for (var e = document.querySelectorAll("input[name=collection]"), t = 0; t < e.length; t++)
        if (e[t].checked) return e[t].getAttribute("data-price")
}

function additionally5Sum() {
    var e = document.querySelector("#field-additionally-5").getAttribute("data-price-one"),
        t = document.querySelector("input[name=additionally-5-count]").value;
    document.querySelector("#field-additionally-5").setAttribute("data-price", e * t)
}

function additionally6Sum() {
    var e = document.querySelector("#field-additionally-6").getAttribute("data-price-one"),
        t = document.querySelector("input[name=additionally-6-count]").value;
    document.querySelector("#field-additionally-6").setAttribute("data-price", e * t)
}
document.querySelector("#select-color .form-order__close").addEventListener("click", function () {
        document.querySelector("#select-color").classList.contains("show") ? document.querySelector("#select-color").classList.remove("show") : document.querySelector("#select-color").classList.add("show")
    }), document.querySelector("#select-border-color .form-order__close").addEventListener("click", function () {
        document.querySelector("#select-border-color").classList.contains("show") ? document.querySelector("#select-border-color").classList.remove("show") : document.querySelector("#select-border-color").classList.add("show")
    }), document.querySelector("#select-additionally .form-order__close").addEventListener("click", function () {
        document.querySelector("#select-additionally").classList.contains("show") ? document.querySelector("#select-additionally").classList.remove("show") : document.querySelector("#select-additionally").classList.add("show")
    }), 
    function (o) {
        o.fn.pageScroll = function (t) {
            t = o.extend({
                speed: 1500,
                offset: 0
            }, t);
            return this.each(function () {
                o(this).click(function (e) {
                    e.preventDefault(), void 0 !== o(this).attr("data-pagescroll-speed") && "" !== o(this).attr("data-pagescroll-speed") && (t.speed = parseInt(o(this).attr("data-pagescroll-speed"))), void 0 !== o(this).attr("data-pagescroll-offset") && "" !== o(this).attr("data-pagescroll-offset") && (t.offset = parseInt(o(this).attr("data-pagescroll-offset"))), o("html, body").animate({
                        scrollTop: o(o(this).attr("data-pagescroll")).offset().top - t.offset
                    }, t.speed, "swing")
                })
            })
        }
    }(jQuery), $("[data-pagescroll]").pageScroll();